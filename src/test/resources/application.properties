# Test configuration for chunker module
quarkus.test.profile=test
quarkus.http.port=0
quarkus.http.test-port=0
quarkus.application.name=chunker-test

# Use the in-memory test registry instead of the Consul registry
quarkus.arc.selected-alternatives=ai.pipestream.test.support.InMemoryTestModuleRegistry

# Add chunker-specific test services that are referenced in tests
# Example: if your tests reference "custom-chunker", "text-splitter", etc.
pipeline.test.additional-mock-services=custom-chunker,text-splitter

# Logging configuration
quarkus.log.level=INFO
quarkus.log.category."ai.pipestream".level=DEBUG

# gRPC Configuration
quarkus.grpc.clients.chunker.host=localhost
quarkus.grpc.clients.chunker.port=9000
quarkus.grpc.clients.chunker.use-quarkus-grpc-client=true
quarkus.grpc.clients.chunker.max-inbound-message-size=2147483647

# Explicitly disable pipestream registration for tests
pipestream.registration.enabled=false
pipestream.registration.retry.max-attempts=0
pipestream.registration.re-registration.enabled=false
pipestream.registration.health-check.enabled=false

# Suppress registration-service gRPC client errors in tests
%test.quarkus.grpc.clients.registration-service.host=localhost
%test.quarkus.grpc.clients.registration-service.port=1